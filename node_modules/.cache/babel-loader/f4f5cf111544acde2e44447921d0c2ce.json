{"ast":null,"code":"import router from '../router';\n\nconst axios = require(\"axios\");\n\nexport default {\n  props: ['id', 'avis', 'vue', 'note', 'date', 'company', 'title', 'href'],\n\n  data() {\n    return {\n      count: 0,\n      messagedel: false,\n      avisSup: false,\n      items: []\n    };\n  },\n\n  methods: {\n    modifyAvis() {\n      router.push('/ModifyAvis/' + this.id);\n    },\n\n    deleteAvis() {\n      this.messagedel = true;\n    },\n\n    deleteCancel() {\n      this.messagedel = false;\n    },\n\n    deleteConfirm() {\n      axios.delete(this.$store.state.URLAPI + '/student/' + this.$store.state.ID + '/avis/' + this.id, {\n        headers: {\n          'Authorization': `Basic ${sessionStorage.getItem('token')}`\n        }\n      });\n      this.avisSup = true;\n    }\n\n  },\n\n  beforeMount() {\n    for (let i = 1; i < 6; i++) {\n      if (this.note - 2 * i >= 0) {\n        this.items.push({\n          title: 'fullstar',\n          icon: require('@/assets/starFull.png')\n        });\n      } else if (this.note - (2 * i - 1) >= 0) {\n        this.items.push({\n          title: 'halfstar',\n          icon: require('@/assets/starHalf.png')\n        });\n      } else {\n        this.items.push({\n          title: 'emptystar',\n          icon: require('@/assets/starEmpty.png')\n        });\n      }\n    }\n  }\n\n};","map":{"version":3,"mappings":"AA4BA,OAAOA,MAAP,MAAoB,WAApB;;AACA,MAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AAEA,eAAe;AACbC,OAAK,EAAE,CAAC,IAAD,EAAM,MAAN,EAAa,KAAb,EAAmB,MAAnB,EAA0B,MAA1B,EAAiC,SAAjC,EAA2C,OAA3C,EAAmD,MAAnD,CADM;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,WAAK,EAAC,CADD;AAELC,gBAAU,EAAC,KAFN;AAGLC,aAAO,EAAC,KAHH;AAILC,WAAK,EAAE;AAJF,KAAP;AAMD,GATY;;AAUbC,SAAO,EAAE;AACPC,cAAU,GAAG;AACXV,YAAM,CAACW,IAAP,CAAY,iBAAe,KAAKC,EAAhC;AACD,KAHM;;AAIPC,cAAU,GAAG;AACX,WAAKP,UAAL,GAAkB,IAAlB;AACD,KANM;;AAOPQ,gBAAY,GAAG;AACb,WAAKR,UAAL,GAAkB,KAAlB;AACD,KATM;;AAUPS,iBAAa,GAAG;AACdd,WAAK,CAACe,MAAN,CAAa,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,GAAyB,WAAzB,GAAqC,KAAKF,MAAL,CAAYC,KAAZ,CAAkBE,EAAvD,GAA0D,QAA1D,GAAmE,KAAKR,EAArF,EACA;AACES,eAAO,EAAE;AACP,2BAAkB,SAAQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAgC;AADnD;AADX,OADA;AAMA,WAAKhB,OAAL,GAAe,IAAf;AACF;;AAlBO,GAVI;;AA+BbiB,aAAW,GAAG;AACZ,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,UAAG,KAAKC,IAAL,GAAY,IAAED,CAAd,IAAiB,CAApB,EAAuB;AACrB,aAAKjB,KAAL,CAAWG,IAAX,CAAgB;AAAEgB,eAAK,EAAE,UAAT;AAAsBC,cAAI,EAAE1B,OAAO,CAAC,uBAAD;AAAnC,SAAhB;AACF,OAFA,MAGK,IAAI,KAAKwB,IAAL,IAAc,IAAED,CAAH,GAAM,CAAnB,KAAuB,CAA3B,EAA8B;AACjC,aAAKjB,KAAL,CAAWG,IAAX,CAAgB;AAAEgB,eAAK,EAAE,UAAT;AAAqBC,cAAI,EAAE1B,OAAO,CAAC,uBAAD;AAAlC,SAAhB;AACF,OAFK,MAGA;AACH,aAAKM,KAAL,CAAWG,IAAX,CAAgB;AAAEgB,eAAK,EAAE,WAAT;AAAsBC,cAAI,EAAE1B,OAAO,CAAC,wBAAD;AAAnC,SAAhB;AACF;AACF;AAED;;AA5CY,CAAf","names":["router","axios","require","props","data","count","messagedel","avisSup","items","methods","modifyAvis","push","id","deleteAvis","deleteCancel","deleteConfirm","delete","$store","state","URLAPI","ID","headers","sessionStorage","getItem","beforeMount","i","note","title","icon"],"sourceRoot":"","sources":["D:\\Achille\\3A\\Web\\FEHeroku\\src\\components\\AvisAccountComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"AvisAccount\" v-if=\"!avisSup\">\r\n        <div id=\"messagedel\" v-if=\"messagedel\"><p>Êtes vous sûr ?</p>\r\n          <button @click=\"deleteCancel\">NON</button>\r\n          <button @click=\"deleteConfirm\">OUI</button>\r\n        </div>\r\n        <a v-bind:href=\"href\">\r\n            <p>{{date}} | {{company}}</p>\r\n            <h2>{{title}}</h2>\r\n            <p>{{ avis }}</p>\r\n            <div>\r\n              <img :src=\"items[0].icon\">\r\n              <img :src=\"items[1].icon\">\r\n              <img :src=\"items[2].icon\">\r\n              <img :src=\"items[3].icon\">\r\n              <img :src=\"items[4].icon\">\r\n            </div>\r\n            <p>Read more</p>\r\n        </a>\r\n        <div>\r\n            <button  @click=\"modifyAvis\">MODIFIER</button>\r\n            <button @click=\"deleteAvis\">SUPPRIMER</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport router  from '../router';\r\nconst axios = require(\"axios\");\r\n\r\nexport default {\r\n  props: ['id','avis','vue','note','date','company','title','href'],\r\n  data() {\r\n    return {\r\n      count:0,\r\n      messagedel:false,\r\n      avisSup:false,\r\n      items: [],\r\n    }\r\n  },\r\n  methods: {\r\n    modifyAvis() {\r\n      router.push('/ModifyAvis/'+this.id);\r\n    },\r\n    deleteAvis() {\r\n      this.messagedel = true;\r\n    },\r\n    deleteCancel() {\r\n      this.messagedel = false;\r\n    },\r\n    deleteConfirm() {\r\n      axios.delete(this.$store.state.URLAPI+'/student/'+this.$store.state.ID+'/avis/'+this.id,\r\n      {\r\n        headers: {\r\n          'Authorization': `Basic ${sessionStorage.getItem('token')}` \r\n        }\r\n      });\r\n      this.avisSup = true;\r\n    }\r\n  },\r\n\r\n  beforeMount() {\r\n    for (let i = 1; i < 6; i++) {\r\n      if(this.note - 2*i>=0) {\r\n        this.items.push({ title: 'fullstar',  icon: require('@/assets/starFull.png') });\r\n      }\r\n      else if (this.note - ((2*i)-1)>=0) {\r\n        this.items.push({ title: 'halfstar', icon: require('@/assets/starHalf.png') });\r\n      }\r\n      else {\r\n        this.items.push({ title: 'emptystar', icon: require('@/assets/starEmpty.png') });\r\n      }\r\n    }\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.AvisAccount {\r\n  /*border: 1px solid  rgb(218, 218, 218);*/\r\n  width: 260px;\r\n  font-family: Montserrat;\r\n  font-size: 12px;\r\n  border-radius: 4px;\r\n  margin: 20px;\r\n  font-family: 'Montserrat';\r\n  overflow: hidden;\r\n  color:black;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  display: flex;\r\n  align-items: left;\r\n  flex-flow: column wrap;\r\n  text-align: left;\r\n  padding: 20px 20px 0px 20px;\r\n  background-color: white;\r\n}\r\n\r\n.AvisAccount #messagedel{\r\n  position: absolute;\r\n  z-index: 3000;\r\n  display: block;\r\n  background-color: white;\r\n  opacity: 0.9;\r\n  width: 260px;\r\n  height: 360px;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n}\r\n\r\n.AvisAccount #messagedel p{\r\n  margin: 80px 0px 40px 0px;\r\n}\r\n\r\n.AvisAccount #messagedel button {\r\n  height: 40px;\r\n  transition: background-color 200ms, border-color 200ms;\r\n}\r\n\r\n.AvisAccount #messagedel button:nth-child(2) {\r\n  border: solid 1px #dadce0;\r\n  border-radius: 4px;\r\n  color: black;\r\n  background-color: white;\r\n  margin-right: 20px;\r\n}\r\n\r\n.AvisAccount #messagedel button:nth-child(2):hover {\r\n  cursor: pointer;\r\n  background-color: rgb(241, 241, 241);\r\n}\r\n\r\n.AvisAccount #messagedel button:nth-child(3) {\r\n  background-color: #FA3402;\r\n  border: solid 1px #FA3402;\r\n  color: white;\r\n}\r\n\r\n.AvisAccount #messagedel button:nth-child(3):hover {\r\n  cursor: pointer;\r\n  background-color: #C72902;\r\n  border: solid 1px #C72902;\r\n}\r\n\r\n.AvisAccount a>div:nth-child(4) {\r\n  height: 30px;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items:center;\r\n  justify-content: flex-start;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.AvisAccount a>div:nth-child(4) img {\r\n  height: 30px;\r\n}\r\n\r\n.AvisAccount a{\r\n  text-decoration: none;\r\n}\r\n\r\n.AvisAccount a>p:nth-child(1) {\r\n  font-size: 14px;\r\n  color: #9da0b8;\r\n  \r\n}\r\n\r\n.AvisAccount a h2 {\r\n  font-family: Montserrat;\r\n  font-weight: 600;\r\n  line-height: 1.2;\r\n  color:black;\r\n  font-size: 20px;\r\n  margin:10px 0px 10px 0px;\r\n  \r\n}\r\n\r\n\r\n.AvisAccount a>p:nth-child(3) {\r\n  font-size: 0.8125rem;\r\n  color: #717488;\r\n  height:180px ;\r\n}\r\n\r\n.AvisAccount a>p:nth-child(5) {\r\n  font-size: 0.875rem;\r\n  color: #1b46c2;\r\n  \r\n}\r\n\r\n.AvisAccount>div {\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n\r\n}\r\n\r\n.AvisAccount div button {\r\n  width: 40%;\r\n  height: 60%;\r\n  font-family: Montserrat;\r\n  font-weight: 600;\r\n  border: solid 1px #dadce0;\r\n  border-radius: 4px;\r\n  transition: background-color 200ms, border-color 200ms;\r\n}\r\n\r\n.AvisAccount div button:nth-child(1):hover {\r\n  cursor: pointer;\r\n  background-color: rgb(241, 241, 241);\r\n}\r\n\r\n.AvisAccount div button:nth-child(1) {\r\n  background-color: white;\r\n}\r\n\r\n.AvisAccount div button:nth-child(2) {\r\n  background-color: #FA3402;\r\n  border: solid 1px #FA3402;\r\n  color: white;\r\n}\r\n\r\n.AvisAccount div button:nth-child(2):hover {\r\n  cursor: pointer;\r\n  background-color: #C72902;\r\n  border: solid 1px #C72902;\r\n}\r\n\r\n.AvisAccount a:hover {\r\n  cursor: pointer;\r\n}\r\n\r\n.AvisAccount a:hover h2{\r\n  color:#1b46c2;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import router from '../router';\n\nconst axios = require(\"axios\");\n\nexport default {\n  name: 'LoginViewbis',\n  components: {},\n\n  data() {\n    return {\n      email: 'pierre.martin@gmail.com',\n      password: 'erhgherghergerh',\n      envoie: \"pas envoyé\",\n      formData: \"\",\n      valuetest: \"jazfjzaf@gmail.com\",\n      errorLogin: false\n    };\n  },\n\n  methods: {\n    login() {\n      axios.post(this.$store.state.URLAPI + '/login', {\n        \"email\": this.formData.email.toString(),\n        \"password\": this.formData.password.toString()\n      }).then(response => {\n        sessionStorage.setItem('token', response.data.token);\n        sessionStorage.setItem('userId', response.data.userId);\n        this.$store.state.ID = response.data.userId;\n        this.$store.state.isConnected = \"Connecté !\";\n        router.push('/AccountView');\n      }).catch(() => {\n        this.errorLogin = true;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkBA,OAAOA,MAAP,MAAoB,WAApB;;AACA,MAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AAEA,eAAe;AACbC,MAAI,EAAE,cADO;AAEbC,YAAU,EAAE,EAFC;;AAKbC,MAAI,GAAG;AACL,WAAO;AACLC,WAAK,EAAC,yBADD;AAELC,cAAQ,EAAC,iBAFJ;AAGLC,YAAM,EAAC,YAHF;AAILC,cAAQ,EAAC,EAJJ;AAKLC,eAAS,EAAC,oBALL;AAMLC,gBAAU,EAAC;AANN,KAAP;AAQD,GAdY;;AAebC,SAAO,EAAE;AACPC,SAAK,GAAG;AACJZ,WAAK,CAACa,IAAN,CAAW,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,GAAyB,QAApC,EACA;AACI,iBAAQ,KAAKR,QAAL,CAAcH,KAAd,CAAoBY,QAApB,EADZ;AAEI,oBAAW,KAAKT,QAAL,CAAcF,QAAd,CAAuBW,QAAvB;AAFf,OADA,EAKEC,IALF,CAKQC,QAAD,IAAc;AACjBC,sBAAc,CAACC,OAAf,CAAuB,OAAvB,EAA+BF,QAAQ,CAACf,IAAT,CAAckB,KAA7C;AACAF,sBAAc,CAACC,OAAf,CAAuB,QAAvB,EAAgCF,QAAQ,CAACf,IAAT,CAAcmB,MAA9C;AACA,aAAKT,MAAL,CAAYC,KAAZ,CAAkBS,EAAlB,GAAuBL,QAAQ,CAACf,IAAT,CAAcmB,MAArC;AACA,aAAKT,MAAL,CAAYC,KAAZ,CAAkBU,WAAlB,GAAgC,YAAhC;AACA1B,cAAM,CAAC2B,IAAP,CAAY,cAAZ;AACH,OAXD,EAWGC,KAXH,CAWS,MAAM;AACb,aAAKjB,UAAL,GAAkB,IAAlB;AACD,OAbD;AAcJ;;AAhBO;AAfI,CAAf","names":["router","axios","require","name","components","data","email","password","envoie","formData","valuetest","errorLogin","methods","login","post","$store","state","URLAPI","toString","then","response","sessionStorage","setItem","token","userId","ID","isConnected","push","catch"],"sourceRoot":"","sources":["D:\\Achille\\3A\\Web\\FEHeroku\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <FormKit v-model=\"formData\" id=\"formLogin\" type=\"form\" submit-label=\"Login\" @submit=\"login\">\r\n      <h2>Login</h2>\r\n      <FormKit name=\"email\" label=\"Email address\" validation=\"required|email\" />\r\n      <FormKit type=\"password\" name=\"password\" label=\"Password\" validation=\"required\" />\r\n      <ul v-if=\"errorLogin\" class=\"formkit-messages\" aria-live=\"assertive\">\r\n        <li class=\"formkit-message\" data-message-type=\"ui\">\r\n          Mot de passe ou adresse email incorrect !\r\n        </li>\r\n      </ul>\r\n    </FormKit>\r\n        \r\n  </section>\r\n</template>\r\n\r\n<script>\r\n\r\nimport router  from '../router';\r\nconst axios = require(\"axios\");\r\n\r\nexport default {\r\n  name: 'LoginViewbis',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      email:'pierre.martin@gmail.com',\r\n      password:'erhgherghergerh',\r\n      envoie:\"pas envoyé\",\r\n      formData:\"\",\r\n      valuetest:\"jazfjzaf@gmail.com\",\r\n      errorLogin:false,\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n        axios.post(this.$store.state.URLAPI+'/login',\r\n        {\r\n            \"email\":this.formData.email.toString(),\r\n            \"password\":this.formData.password.toString()\r\n        }\r\n        ).then((response) => {\r\n            sessionStorage.setItem('token',response.data.token);\r\n            sessionStorage.setItem('userId',response.data.userId);\r\n            this.$store.state.ID = response.data.userId;\r\n            this.$store.state.isConnected = \"Connecté !\";\r\n            router.push('/AccountView');\r\n        }).catch(() => {\r\n          this.errorLogin = true;\r\n        })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\nsection {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-flow: column wrap;\r\n  font-family: 'Montserrat';\r\n}\r\n\r\nsection #formLogin {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: start;\r\n  flex-flow: wrap column;\r\n  width:500px;\r\n  border: solid 1px #dadce0;\r\n  margin-top: 40px;\r\n}\r\n\r\nsection form h2{\r\n  font-weight: 600;\r\n  color: #000;\r\n  font-size: 2.25rem;\r\n  margin: 40px 0px 40px 0px;\r\n}\r\n\r\nform>div>div .formkit-label {\r\n  font-family: 'Montserrat';\r\n  font-weight: 600;\r\n  font-size: 22px;\r\n  line-height: 1.2;\r\n  color:black;\r\n}\r\n\r\nsection #formLogin>div {\r\n  padding:0px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-flow: column wrap;\r\n  height: 120px;\r\n}\r\n\r\nsection #formLogin>div:last-child div  {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\nsection #formLogin>div:last-child div div {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\nsection #formLogin>div:last-child div div button,section #formside form>div div div button{\r\n  width: 180px;\r\n  margin:0px;\r\n  border: solid 1px #1b46c2;\r\n  background-color:#1b46c2;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n}\r\n\r\n\r\nsection #formLogin>div>div{\r\n  width: 460px;\r\n  \r\n}\r\n\r\n\r\n\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
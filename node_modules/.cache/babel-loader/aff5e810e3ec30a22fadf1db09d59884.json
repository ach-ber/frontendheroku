{"ast":null,"code":"import router from '../router';\n\nconst axios = require(\"axios\");\n\nexport default {\n  name: 'ModifyAvis',\n  components: {},\n\n  data() {\n    return {\n      companies: [],\n      company: [],\n      formDataAvis: [{}],\n      test: \"\",\n      actual: 0,\n      id: \"id\"\n    };\n  },\n\n  methods: {\n    Modify() {\n      axios.put(this.$store.state.URLAPI + '/student/' + this.$store.state.ID + '/avis/' + this.$route.params.id, {\n        \"text\": this.formDataAvis.avistext.toString(),\n        \"title\": this.formDataAvis.title.toString(),\n        \"note\": this.formDataAvis.note,\n        \"date\": this.formDataAvis.date\n      }, {\n        headers: {\n          'Authorization': `Basic ${sessionStorage.getItem('token')}`\n        }\n      }).then(() => {\n        //axios.get('http://localhost:4000/api/student/'+this.$store.state.ID+'/avis/'+this.$route.params.id).then(response => this.test = (response.data[0]));\n        this.completeModify = true;\n        router.push('/AccountView');\n      }).catch(() => {\n        this.notcompleteModify = true;\n      }); //router.push('/test');\n    }\n\n  },\n\n  beforeCreate() {\n    axios.get(this.$store.state.URLAPI + '/company').then(response => this.companies = response.data); //() => {for (const element of this.companies) {this.stateList.push({label:element.name_company,value:element.id_company})}})\n  },\n\n  created() {\n    axios.get(this.$store.state.URLAPI + '/student/2/avis/' + this.$route.params.id).then(response => {\n      this.test = response.data[0];\n      this.formDataAvis.title = this.test.title;\n      this.formDataAvis.note = this.test.note;\n      this.formDataAvis.avistext = this.test.avistext;\n      this.formDataAvis.date = this.test.date.substring(0, 10);\n    });\n  },\n\n  mounted() {}\n\n};","map":{"version":3,"mappings":"AAiBA,OAAOA,MAAP,MAAoB,WAApB;;AACA,MAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AAEA,eAAe;AACbC,MAAI,EAAE,YADO;AAEbC,YAAU,EAAE,EAFC;;AAKbC,MAAI,GAAG;AACL,WAAO;AACHC,eAAS,EAAC,EADP;AAEHC,aAAO,EAAE,EAFN;AAGHC,kBAAY,EAAC,CAAC,EAAD,CAHV;AAIHC,UAAI,EAAC,EAJF;AAKHC,YAAM,EAAC,CALJ;AAMHC,QAAE,EAAC;AANA,KAAP;AAQD,GAdY;;AAebC,SAAO,EAAE;AAEPC,UAAM,GAAG;AACLZ,WAAK,CAACa,GAAN,CAAU,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,GAAyB,WAAzB,GAAqC,KAAKF,MAAL,CAAYC,KAAZ,CAAkBE,EAAvD,GAA0D,QAA1D,GAAmE,KAAKC,MAAL,CAAYC,MAAZ,CAAmBT,EAAhG,EACA;AACI,gBAAO,KAAKH,YAAL,CAAkBa,QAAlB,CAA2BC,QAA3B,EADX;AAEI,iBAAQ,KAAKd,YAAL,CAAkBe,KAAlB,CAAwBD,QAAxB,EAFZ;AAGI,gBAAO,KAAKd,YAAL,CAAkBgB,IAH7B;AAII,gBAAO,KAAKhB,YAAL,CAAkBiB;AAJ7B,OADA,EAOA;AACEC,eAAO,EAAE;AACP,2BAAkB,SAAQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAgC;AADnD;AADX,OAPA,EAWGC,IAXH,CAYE,MAAK;AACH;AACA,aAAKC,cAAL,GAAsB,IAAtB;AACA9B,cAAM,CAAC+B,IAAP,CAAY,cAAZ;AACF,OAhBF,EAiBEC,KAjBF,CAiBQ,MAAM;AACZ,aAAKC,iBAAL,GAAyB,IAAzB;AACD,OAnBD,EADK,CAqBL;AACH;;AAxBM,GAfI;;AA2CbC,cAAY,GAAG;AACbjC,SAAK,CAACkC,GAAN,CAAU,KAAKpB,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,GAAyB,UAAnC,EAA+CY,IAA/C,CAAoDO,QAAO,IAAK,KAAK9B,SAAL,GAAkB8B,QAAQ,CAAC/B,IAA3F,EADa,CAGT;AACL,GA/CY;;AAgDbgC,SAAO,GAAG;AACRpC,SAAK,CAACkC,GAAN,CAAU,KAAKpB,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,GAAyB,kBAAzB,GAA4C,KAAKE,MAAL,CAAYC,MAAZ,CAAmBT,EAAzE,EAA6EkB,IAA7E,CAAkFO,QAAO,IACzF;AAAC,WAAK3B,IAAL,GAAa2B,QAAQ,CAAC/B,IAAT,CAAc,CAAd,CAAb;AACD,WAAKG,YAAL,CAAkBe,KAAlB,GAA0B,KAAKd,IAAL,CAAUc,KAApC;AACA,WAAKf,YAAL,CAAkBgB,IAAlB,GAAyB,KAAKf,IAAL,CAAUe,IAAnC;AACA,WAAKhB,YAAL,CAAkBa,QAAlB,GAA6B,KAAKZ,IAAL,CAAUY,QAAvC;AACA,WAAKb,YAAL,CAAkBiB,IAAlB,GAAyB,KAAKhB,IAAL,CAAUgB,IAAV,CAAea,SAAf,CAAyB,CAAzB,EAA2B,EAA3B,CAAzB;AACC,KAND;AAOD,GAxDY;;AAyDbC,SAAO,GAAG,CACV;;AA1Da,CAAf","names":["router","axios","require","name","components","data","companies","company","formDataAvis","test","actual","id","methods","Modify","put","$store","state","URLAPI","ID","$route","params","avistext","toString","title","note","date","headers","sessionStorage","getItem","then","completeModify","push","catch","notcompleteModify","beforeCreate","get","response","created","substring","mounted"],"sourceRoot":"","sources":["D:\\Achille\\3A\\Web\\FEHeroku\\src\\views\\ModifyAvis.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"success\" v-if=\"completeModify\">Submitted successfully!</div>\r\n    <div class=\"success\" v-if=\"notcompleteModify\">not submit</div>\r\n    <FormKit v-model=\"formDataAvis\" type=\"form\" id=\"formModify\" submit-label=\"Modifier\" @submit=\"Modify\">\r\n        <h2>Modifiez votre Avis</h2>\r\n        <FormKit type=\"text\" name=\"title\" label=\"title\" validation=\"required\" />\r\n        <FormKit type=\"textarea\" name=\"avistext\" label=\"DÃ©crivez votre stage !\" validation=\"required\" />\r\n        <FormKit type=\"range\" name=\"note\" label=\"note\" min=\"0\" max=\"10\" />\r\n        <FormKit type=\"date\"  name=\"date\" label=\"date\" validation=\"required\"/>\r\n    </FormKit>\r\n    \r\n  </section>\r\n</template>\r\n\r\n<script>\r\n\r\nimport router  from '../router';\r\nconst axios = require(\"axios\");\r\n\r\nexport default {\r\n  name: 'ModifyAvis',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n        companies:[],\r\n        company: [],\r\n        formDataAvis:[{}],\r\n        test:\"\",\r\n        actual:0,\r\n        id:\"id\",\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    Modify() {\r\n        axios.put(this.$store.state.URLAPI+'/student/'+this.$store.state.ID+'/avis/'+this.$route.params.id,\r\n        {\r\n            \"text\":this.formDataAvis.avistext.toString(),\r\n            \"title\":this.formDataAvis.title.toString(),\r\n            \"note\":this.formDataAvis.note,\r\n            \"date\":this.formDataAvis.date,\r\n        },\r\n        {\r\n          headers: {\r\n            'Authorization': `Basic ${sessionStorage.getItem('token')}` \r\n          }\r\n        }).then(\r\n          ()=> {\r\n            //axios.get('http://localhost:4000/api/student/'+this.$store.state.ID+'/avis/'+this.$route.params.id).then(response => this.test = (response.data[0]));\r\n            this.completeModify = true;\r\n            router.push('/AccountView');\r\n          }\r\n        ).catch(() => {\r\n          this.notcompleteModify = true;\r\n        })\r\n        //router.push('/test');\r\n    },\r\n  },\r\n\r\n\r\n  beforeCreate() {\r\n    axios.get(this.$store.state.URLAPI+'/company').then(response => this.companies = (response.data));\r\n    \r\n        //() => {for (const element of this.companies) {this.stateList.push({label:element.name_company,value:element.id_company})}})\r\n  },\r\n  created() {\r\n    axios.get(this.$store.state.URLAPI+'/student/2/avis/'+this.$route.params.id).then(response => \r\n    {this.test = (response.data[0]);\r\n    this.formDataAvis.title = this.test.title;\r\n    this.formDataAvis.note = this.test.note;\r\n    this.formDataAvis.avistext = this.test.avistext;\r\n    this.formDataAvis.date = this.test.date.substring(0,10);\r\n    })\r\n  },\r\n  mounted() {\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n\r\nsection #formModify{\r\n  margin: 40px 0px 40px 0px;\r\n  width: 80%;\r\n  min-width: 800px;\r\n  max-width: 1000px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: start;\r\n  flex-flow: wrap row;\r\n  border: solid 1px #dadce0;\r\n  padding-bottom: 40px;\r\n}\r\n\r\nsection #formModify{\r\n  justify-content: center;\r\n}\r\n\r\nform>div>div .formkit-label {\r\n  font-family: 'Montserrat';\r\n  font-weight: 600;\r\n  font-size: 22px;\r\n  line-height: 1.2;\r\n  color:black;\r\n}\r\n\r\nsection #formModify>div {\r\n  padding:0px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-flow: column wrap;\r\n  width: 80%;\r\n  margin:  20px 10% 0px 10%;\r\n  height: 120px;\r\n}\r\n\r\nsection #formModify>div:nth-child(3) {\r\n  height: 200px;\r\n}\r\n\r\nsection #formModify>div>div {\r\n  width: 100%;\r\n  max-width: 100%;\r\n}\r\n\r\nsection #formModify>div:nth-child(4), section #formModify>div:nth-child(5),section #formModify>div:nth-child(6),section #formModify>div:nth-child(7)  {\r\n  width: 30%;\r\n}\r\n\r\nsection #formModify>div:nth-child(4) div div input {\r\n  border:none;\r\n}\r\n\r\nsection #formModify>div:nth-child(6) {\r\n   height: 60px;\r\n   margin-top: 40px;\r\n}\r\n\r\nsection #formModify>div:nth-child(6) div  {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\nsection #formModify>div:nth-child(6) div div {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\nsection #formModify>div:nth-child(6) div div button{\r\n  width: 180px;\r\n  margin:0px;\r\n  border: solid 1px #1b46c2;\r\n  background-color:#1b46c2;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n}\r\n\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}